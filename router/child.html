<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hiá»‡u SÃ¡ch Mini</title>
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <header>
    <div class="brand">ğŸ“š Hiá»‡u SÃ¡ch Mini</div>
    <nav>
         <!-- Thanh tÃ¬m kiáº¿m Ä‘áº·t Ä‘áº§u tiÃªn -->
    <div class="search-box">
      <input type="text" id="searchInput" placeholder="TÃ¬m sÃ¡ch..." />
      <button onclick="searchBooks()">ğŸ”</button>
    </div>
      <a href="child.html" id="nav-home">Trang chá»§</a>
      <a href="cart.html" id="nav-cart">Giá» hÃ ng (<span id="cart-count">0</span>)</a>
      <a href="about.html" class="nav-link">Giá»›i thiá»‡u</a>
      <!-- Thá»ƒ loáº¡i cÃ³ menu con -->
      <div class="dropdown">
        <a href="#/category" id="nav-category">Thá»ƒ loáº¡i â–¾</a>
        <div class="dropdown-content">
          <a href="congnghe.html">ğŸ“˜ CÃ´ng nghá»‡</a>
          <a href="vanhoc.html">ğŸ“– VÄƒn há»c</a>
          <a href="kinhte.html">ğŸ’¼ Kinh táº¿</a>
          <a href="thieunhi.html">ğŸ‘¶ Thiáº¿u nhi</a>
        </div>
      </div>

    </nav>
  </header>

  <main class="container">
    <div id="view"></div>
  </main>

  <footer class="footer bg-gray-200 text-gray-800 text-center py-6 mt-8">
    <p class="font-semibold">Â© 2025 Hiá»‡u SÃ¡ch Mini â€” Demo tá»‘i giáº£n bÃ¡n & Ä‘á»c ebook</p>

    <div class="mt-2">
      <p>
        <strong>ÄÆ¡n vá»‹:</strong>
        <a href="https://www.google.com/maps/place/Cao+%C4%90%E1%BA%B3ng+C%C3%B4ng+Ngh%E1%BB%87+Th%C3%B4ng+Tin+TP.HCM/@10.7750549,106.6319191,857m/data=!3m2!1e3!4b1!4m6!3m5!1s0x31752ea144839ef1:0x798819bdcd0522b0!8m2!3d10.7750496!4d106.6344994!16s%2Fg%2F1v6wltsg?entry=ttu&g_ep=EgoyMDI1MDkwMi4wIKXMDSoASAFQAw%3D%3D"
          target="_blank" class="underline hover:text-blue-600">
          TrÆ°á»ng Cao Ä‘áº³ng CÃ´ng nghá»‡ ThÃ´ng tin (ITC)
        </a>
      </p>
      <p><strong>NgÆ°á»i thá»±c hiá»‡n:</strong> Nguyá»…n LÃª ThÃ¡i An</p>
    </div>

    <div class="mt-2">
      <p><strong>LiÃªn há»‡:</strong></p>
      <p>ğŸ“ 0984 499 074</p>
      <p>âœ‰ï¸ <a href="mailto:annguyengocong2@gmail.com"
          class="underline hover:text-blue-600">annguyengocong2@gmail.com</a></p>
    </div>
  </footer>


  <script>
    /**
     * Dá»® LIá»†U MáºªU â€”  cÃ³ thá»ƒ thay tháº¿ báº±ng API/backend sau nÃ y
     * Äáº·t file PDF tháº­t vÃ o thÆ° má»¥c /ebooks/ tÆ°Æ¡ng á»©ng (vd: ebooks/book1.pdf)
     */
    const BOOKS = [
      { id: 1, title: 'Láº­p TrÃ¬nh Tá»‘i Giáº£n', author: 'N. Dev', price: 59000, type: 'ebook', cover: 'anh/2.jpg', pdf: 'ebooks/book1.pdf', description: 'HÆ°á»›ng dáº«n viáº¿t code gá»n nháº¹ vÃ  hiá»‡u quáº£.' },
      { id: 2, title: 'ká»¹ nÄƒng má»m', author: 'T. Soft', price: 79000, type: 'ebook', cover: 'anh/1.png', pdf: 'ebooks/book2.pdf', description: 'Giao tiáº¿p, thuyáº¿t trÃ¬nh, lÃ m viá»‡c nhÃ³m cho ngÆ°á»i má»›i.' },
      { id: 3, title: 'Nhá»¯ng Ä‘Ãªm mÆ°a', author: 'L. VÄƒn', price: 69000, type: 'ebook', cover: 'anh/4.png', pdf: 'ebooks/book3.pdf', description: 'Tuyá»ƒn táº­p truyá»‡n ngáº¯n cáº£m xÃºc.' },
      { id: 4, title: 'CÃ´ng nghiá»‡p mÃ´i trÆ°á»ng', author: 'T. Soft', price: 59000, type: 'ebook', cover: 'anh/3.png', pdf: 'ebooks/book4.pdf', description: 'Giao tiáº¿p, thuyáº¿t trÃ¬nh, lÃ m viá»‡c nhÃ³m cho ngÆ°á»i má»›i.' },
      { id: 5, title: 'The Pragmatic Programme', author: 'L. VÄƒn', price: 69000, type: 'ebook', cover: 'anh/5.png', pdf: 'ebooks/book5.pdf', description: 'Tuyá»ƒn táº­p truyá»‡n ngáº¯n cáº£m xÃºc.' },
      { id: 6, title: 'Clean Code', author: 'T. Soft', price: 59000, type: 'ebook', cover: 'anh/6.png', pdf: 'ebooks/book6.pdf', description: 'Giao tiáº¿p, thuyáº¿t trÃ¬nh, lÃ m viá»‡c nhÃ³m cho ngÆ°á»i má»›i.' },
      { id: 7, title: 'Láº­p TrÃ¬nh JavaScript CÆ¡ Báº£n', author: 'N. Code', price: 69000, type: 'ebook', cover: 'anh/7.png', pdf: 'ebooks/book7.pdf', description: 'Há»c cÃº phÃ¡p, hÃ m, vÃ  cÃ¡ch xÃ¢y dá»±ng á»©ng dá»¥ng web vá»›i JavaScript.' },
      { id: 8, title: 'Artificial Intelligence', author: 'H. Design', price: 75000, type: 'ebook', cover: 'anh/8.png', pdf: 'ebooks/book8.pdf', description: 'NguyÃªn táº¯c UI/UX vÃ  thá»±c hÃ nh vá»›i HTML, CSS, Tailwind.' },
      { id: 9, title: 'PhÃ¢n TÃ­ch Dá»¯ Liá»‡u Vá»›i Python', author: 'D. Data', price: 85000, type: 'ebook', cover: 'anh/9.png', pdf: 'ebooks/book9.pdf', description: 'KhÃ¡m phÃ¡ Pandas, NumPy vÃ  trá»±c quan hÃ³a dá»¯ liá»‡u báº±ng Matplotlib.' },
      { id: 10, title: 'TrÃ­ Tuá»‡ NhÃ¢n Táº¡o á»¨ng Dá»¥ng', author: 'A. Smart', price: 99000, type: 'ebook', cover: 'anh/10.png', pdf: 'ebooks/book10.pdf', description: 'CÆ¡ báº£n vá» AI, machine learning vÃ  cÃ¡ch á»©ng dá»¥ng trong thá»±c táº¿.' }
    ];

    // Helpers
    const $ = (sel, el = document) => el.querySelector(sel);
    const $$ = (sel, el = document) => [...el.querySelectorAll(sel)];
    const money = v => v.toLocaleString('vi-VN') + 'â‚«';

    // LocalStorage state
    const load = (k, def) => { try { return JSON.parse(localStorage.getItem(k)) ?? def; } catch { return def; } };
    const save = (k, v) => localStorage.setItem(k, JSON.stringify(v));

    const state = {
      cart: load('cart', []), // [{id, qty}]
      purchases: load('purchases', []) // [bookId]
    };

    function sync() {
      save('cart', state.cart);
      save('purchases', state.purchases);
      updateCartCount();
    }

    function updateCartCount() {
      const count = state.cart.reduce((s, i) => s + i.qty, 0);
      $('#cart-count').textContent = count;
    }




    // Views
    function renderHome() {
      const view = $('#view');
      view.innerHTML = `<div class="row" style="justify-content:space-between; align-items: end; margin-bottom: 14px;">
          <div>
            <h2 style="margin:6px 0 4px">Má»›i cáº­p nháº­t</h2>
            <div class="muted">Danh sÃ¡ch ebook cÃ³ thá»ƒ Ä‘á»c online sau khi mua</div>
          </div>
        </div>
        <div class="grid">${BOOKS.map(b => `
          <div class="card">
            <img src="${b.cover}" alt="${b.title}" />
            <div class="title">${b.title}</div>
            <div class="muted">${b.author}</div>
            <div class="row" style="justify-content:space-between; margin-top:6px;">
              <div class="price">${money(b.price)}</div>
              <span class="tag">${b.type.toUpperCase()}</span>
            </div>
            <div class="row" style="margin-top:10px;">
              <button class="btn" onclick="addToCart(${b.id})">ThÃªm vÃ o giá»</button>
              <a class="btn secondary" href="#/detail/${b.id}">Xem chi tiáº¿t</a>
            </div>
          </div>
        `).join('')}</div>`;
      setActive('#/home');
    }

    function renderDetail(id) {
      const view = $('#view');
      const b = BOOKS.find(x => x.id == id);
      if (!b) { view.innerHTML = `<div class="empty panel">KhÃ´ng tÃ¬m tháº¥y sÃ¡ch.</div>`; return; }

      const owned = state.purchases.includes(b.id);
      view.innerHTML = `
        <div class="panel detail">
          <div><img src="${b.cover}" alt="${b.title}" style="width:100%; border-radius:16px;"></div>
          <div>
            <h2 style="margin:0 0 6px">${b.title}</h2>
            <div class="muted" style="margin-bottom:10px;">TÃ¡c giáº£: ${b.author}</div>
            <p class="muted" style="line-height:1.6">${b.description}</p>

            <div class="row" style="margin:14px 0 8px; align-items: center;">
              <div class="price" style="font-size:18px;">${money(b.price)}</div>
              <span class="tag">${b.type.toUpperCase()}</span>
            </div>

            <div class="row" style="margin-top:10px;">
              <button class="btn" onclick="addToCart(${b.id})">ThÃªm vÃ o giá»</button>
              ${owned ? `<a class="btn secondary" href="#/reader/${b.id}">Äá»c ngay</a>` : `<button class="btn secondary" onclick="alert('Mua sÃ¡ch Ä‘á»ƒ Ä‘á»c online nhÃ©!');">Äá»c thá»­ (khÃ³a)</button>`}
              <a class="btn secondary" href="#/home">â† Quay láº¡i</a>
            </div>
          </div>
        </div>
      `;
      setActive();
    }

    

    // Tiny router
    function router() {
      const hash = location.hash || '#/home';
      const [_, route, param] = hash.split('/');
      switch (route) {
        case 'home': renderHome(); break;
        case 'detail': renderDetail(param); break;
        case 'cart': renderCart(); break;
        case 'reader': renderReader(param); break;
        default: renderHome();
      }
    }

    function setActive(target) {
      $$('#nav-home, #nav-cart').forEach(a => a.classList.remove('active'));
      if (target) $(target === '#/cart' ? '#nav-cart' : '#nav-home').classList.add('active');
    }

    window.addEventListener('hashchange', router);
    updateCartCount();
    router();

  </script>
  <!-- Import JS tÃ¡ch riÃªng -->
  <script src="js/books.js"></script>
  <script src="js/cart.js"></script>
  <script src="js/app.js"></script>

</body>

</html>